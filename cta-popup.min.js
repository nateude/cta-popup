function userVars(e,a){for(var o in a)a.hasOwnProperty(o)&&(t=jQuery(ctaTar).attr("data-"+o),"undefined"!=typeof t&&(a[o]=t));return a}function debuger(e,t){(1==debug||1==e)&&console.log(t)}function gaEvent(e,t,a){1==cVars.gaEnable&&ga("send","event",e,t,a),2==cVars.gaEnable&&_gaq.push(["_trackEvent",e,t,a]),debuger(!1,"ga( 'send', 'event', '"+e+"', '"+t+"', '"+a+"')")}function abTest(){var e=testCookie(cVars.cookieName+"-test",!0);if(0!=e)return e[1];var t=["0","a","b"],a=Math.floor(2*Math.random())+1;return setCookie(cVars.cookieName+"-test","60",t[a]),debuger(!1,"abTest: "+t[a]),t[a]}function cookieDate(e){var t=new Date;return t.setTime(t.getTime()+60*e*60*1e3),t.toUTCString()}function checkWidth(){var e=jQuery(document).width();return e<cVars.minWidth?!1:(debuger(!1,"checkWidth: true"),!0)}function urlException(){var e=window.location.pathname;return pageException.indexOf(e)>0?(debuger(!1,"urlException: false"),!1):(debuger(!1,"urlException: true"),!0)}function setCookie(e,t,a){return 1==debug&&console.log(e+"debug="+a+";  expires="+cookieDate(t)),document.cookie=e+"="+a+";  expires="+cookieDate(t),debuger(!1,"setCookie: true"),!0}function testCookie(e,t){var a=!1,o=document.cookie.split("; ");for(i=0;i<o.length;i++){var r=o[i].split("=");r[0]==e&&(a=1==t?r:!0)}return debuger(!1,"testCookie: "+a),a}function pageCounter(){var e=0,t=testCookie(cVars.cookieName+"-Count",!0);return 0!=t&&(e=parseInt(t[1])),e++,setCookie(cVars.cookieName+"-Count",cVars.pageDelay,e),debuger(!1,"pageCounter: true"),!0}function testCounter(){var e=testCookie(cVars.cookieName+"-Count",!0);return e[1]>=cVars.pageCount?!0:(debuger(!1,"testCounter: false"),!1)}function sliderIn(){return t=0,0==checkWidth()&&(t=1),0==urlException()&&(t=2),cVars.pageCount>0&&0==testCounter()&&(t=3),1==testCookie(cVars.cookieName,!1)&&(t=4),0==t?(jQuery(ctaTar).addClass("active"),setCookie(cVars.cookieName,nInter,"activated"),clearTimeout(cVars.cookieIn),gaEvent(eOpen[0],eOpen[1],eOpen[2]),1==cVars.abStatus&&gaEvent(abView[0],abView[1],cVars[tLabel]),TimerTest=!0,debuger(!1,"sliderIn: true"),!0):(debuger(!1,"sliderIn: false"),!1)}function sliderOut(e,t){return void 0===e&&(e=nInter),void 0===t&&(t="no interaction"),jQuery(ctaTar).removeClass("active"),setCookie(cVars.cookieName,e,t),cVars.cookieOut>0&&timeOut&&clearTimeout(timeOut),gaEvent(eClose[0],eClose[1],eClose[2]),debuger(!1,"sliderOut: true"),!0}function goalComplete(){var e=window.location.pathname,t=testCookie(cVars.cookieName,!0);return"clicked"!=t[1]?(debuger(!1,"goalComplete: false (cookie)"),!1):(debuger(!1,e+" | "+cVars[tGoal]),e!=cVars[tGoal]?(debuger(!1,"goalComplete: false (url)"),!1):(gaEvent(abGoal[0],abGoal[1],cVars[tLabel]),debuger(!1,"goalComplete: true"),!0))}var debug=0,ctaTar=".cta-popup",cVars={active:"active",cookieName:"abtest",hover:1,cookieIn:7e3,cookieOut:21e3,minWidth:1024,gaEnable:2,pageCount:0,pageDelay:1,abStatus:1,aSel:".testA",aLabel:"test a",aGoal:"/test-a",bSel:".testB",bLabel:"test b",bGoal:"/test-b"};cVars=userVars(ctaTar,cVars),debuger(!1,cVars);var eOpen=["popup","test","opened"],eClose=["popup","test","closed"],eClick=["popup","test","click"],abView=["test a/b","view"],abAction=["test a/b","click"],abGoal=["test a/b","goal"],nInter=1,yInter=720,pageException=["/",aGoal,bGoal],timeIn="",timeOut="",TimerTest=!1,tAB=abTest(),tSel=tAB+"Sel",tLabel=tAB+"Label",tGoal=tAB+"Goal";debuger(!1,"AB Vars tAB: "+tAB+", tSel: "+tSel+", tLabel: "+tLabel+", tGoal: "+tGoal),cVars.pageCount>0&&pageCounter(),jQuery(document).ready(function(e){e(".test").not(cVars[tSel]).remove(),timeIn=setTimeout(sliderIn,cVars.cookieIn),cVars.cookieOut>0&&1==TimerTest&&(timeOut=setTimeout(sliderOut,cVars.cookieOut)),e(document).on("click",cVars[tSel]+" .abAction",function(){gaEvent(abAction[0],abAction[1],cVars[tLabel]),gaEvent(eClick[0],eClick[1],eClick[2]),setCookie(cVars.cookieName,yInter,"clicked")}),e(ctaTar).mouseenter(function(){1==cVars.hover&&clearTimeout(timeOut)}),e(ctaTar).mouseleave(function(){if(1==cVars.hover){setTimeout(sliderOut,cVars.cookieOut)}}),e(ctaTar+" .close").click(function(){sliderOut(yInter,"closed"),cVars.hover=0}),goalComplete()});